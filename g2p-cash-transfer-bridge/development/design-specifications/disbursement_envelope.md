---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# disbursement\_envelope

disbursement\_envelope represents a control object that **uniquely defines one instance of disbursement for one disbursement cycle for a benefit program**

A benefit program - in one disbursement cycle - will create exactly one disbursement envelope.

This envelope will represent the control object under which all individual disbursements will be made - for one benefit program - for one disbursement cycle.

The object (and corresponding persistent table) will have the following attributes

## Object Design

| Attribute                            | Datatype                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| disbursement\_envelope\_id           | Uniquely Identifies the Disbursement Envelope. Primary Key of the Table                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| funding\_organization\_mnemonic      | The Short Code that identifies the Government Department or the Welfare Organization that runs the benefit program                                                                                                                                                                                                                                                                                                                                                                                                  |
| funding\_organization\_name          | The name of the Organization / Department                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| funding\_sub\_organization\_mnemonic | If the Department (or Organization) has multiple sub departments (or sub organizations), which independently run benefit programs, then this is the sub organization that is running this benefit program                                                                                                                                                                                                                                                                                                           |
| funding\_sub\_organization\_name     | The Sub Organization's name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| benefit\_program\_mnemonic           | The short code that uniquely identifies the benefit program that is creating this disbursement envelope                                                                                                                                                                                                                                                                                                                                                                                                             |
| benefit\_program\_name               | The name of the benefit program - corresponding to the benefit program mnemonic                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| disbursement\_frequency              | <p>ENUM - identifies the frequency with which disbursements are effected under this benefit program. Possible Values<br><br>Weekly<br>Fortnightly<br>Monthly<br>Bimonthly<br>Quarterly<br>SemiAnnually<br>Annually<br>OnDemand</p>                                                                                                                                                                                                                                                                                  |
| cycle\_code\_mnemonic                | <p>Identifies the particular frequency cycle under which this envelope is being created. <br><br>Examples - March-2024 or Q1-2024 or Week-1-Jan-2024 or 03-Jan-2024</p>                                                                                                                                                                                                                                                                                                                                             |
| number\_of\_beneficiaries            | Specifies the number of distinct beneficiaries that this envelope will serve                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| number\_of\_disbursements            | Specifies the number of discrete disbursements that this envelop will create. In ideal cases, this should equal to the number of beneficiaries, there might be instances where a beneficiary gets more than one disbursement in a single envelope.                                                                                                                                                                                                                                                                  |
| total\_disbursement\_amount          | The total of all individual disbursements. This is the control total for one "disbursement cycle - benefit program"                                                                                                                                                                                                                                                                                                                                                                                                 |
| disbursement\_currency\_code         | <p>The ISO Currency code in which the disbursement is going to be effected.<br><br>This does not necessarily mean that the beneficiaries will be credited (or given cash) in this currency. This only represents the funding side.<br><br>If beneficiaries are credited in a different account, that currency conversion will happen in the Destination banks (which service the beneficiaries). This currency conversion is of no consequence to the PBMS/Funding Organization/Benefit Program Administration.</p> |
| disbursement\_schedule\_date         | This is the date on which the Disbursement needs to be effected.                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

## APIs on disbursement\_envelope

### create\_disbursement\_envelope

| API Attributes |                        |
| -------------- | ---------------------- |
| Direction      | Inward                 |
| Invoked by     | PBMS                   |
| Mode           | Synchronous            |
| Tables         | disbursement\_envelope |

#### Business Logic

Will result in persistence of 1 table - disbursement\_envelope (1 record for a disbursement\_envelope)

disbursement\_envelope (with all attributes as mentioned above) with additional attributes as given below

| Attribute                             | Datatype                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| disbursement\_envelope\_id            | Uniquely identifies the disbursement envelope. Primary Key                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| receipt\_time\_stamp                  | The timestamp when the envelope was received and persisted by the G2P Bridge                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| cancellation\_status                  | <p>Enum<br>NOT_CANCELLED<br>CANCELLED</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| cancellation\_time\_stamp             | The timestamp when the cancellation request was received                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| number\_of\_disbursements\_received   | <p>The PBMS will first create the disbursement envelope. After that, the PBMS will then dispatch (create) the individual disbursements under the envelope. Being a social benefit program, each envelop can potentially target a large population - running into hundreds of thousands (perhaps even millions). <br>The PBMS is expected to do this disbursement in batches. <br>This attribute - is the control - that keeps track of the number of disbursements that have actually been received by the G2P Bridge from the PBMS.<br><br>Once this number reaches the number specified by the <strong>disbursement_envelope.total_number_of_disbursements</strong>, the system will not accept any more disbursements from the upstream PBMS platform.</p> |
| funds\_blocked\_with\_sponsor\_bank   | <p>Not_Applicable<br>Pending<br>Complete<br><br>Initial value will be Not_Applicable<br><br>As and when PBMS ships the disbursements, this field will be updated to "Pending" - once all the disbursements are received (the received number of disbursements equal to the declared number of disbursements)<br><br>Pending -> Complete - This will be updated by a background job that creates "Hold Funds" with the Sponsor Bank.</p>                                                                                                                                                                                                                                                                                                                       |
| funds\_block\_reference\_number       | <p>This is the Amount Block (Funds Hold) Reference number - returned by the Sponsor Bank.<br>This Reference number uniquely identifies the Amount Block that has been placed against the Disbursement Envelope.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| number\_of\_disbursements\_shipped    | <p>The G2P Bridge will ship the disbursements to the Sponsor Bank in batches (Note that the volume of disbursements is expected to be in 100s of 1000s or perhaps even millions, batch processing will be necessary). <br>This attribute is updated as and when batches of disbursements are successfully shipped <br>After all disbursements are shipped, this number will equal to the envelope.number_of_disbursements</p>                                                                                                                                                                                                                                                                                                                                 |
| number\_of\_disbursements\_successful | Updated by "success" feedback from Sponsor Bank                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| number\_of\_disbursements\_failed     | Updated by "failure" feedback from Sponsor Bank                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

### cancel\_disbursement\_envelope

| API Attributes |                        |
| -------------- | ---------------------- |
| Direction      | Inward                 |
| Invoked by     | PBMS                   |
| Mode           | Synchronous            |
| Tables         | disbursement\_envelope |

Using this API, the PBMS can cancel a disbursement\_envelope. With this API, the disbursement\_envelope.cancellation\_status will be set to "CANCELLED".

Once cancelled, no further processing of the envelope will be done.

Cancellation will be allowed only prior to the "disbursement\_schedule\_date".
